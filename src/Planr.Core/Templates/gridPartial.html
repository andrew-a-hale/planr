<style>{{ Css }}</style>

<div class="impact-effort-container" style="--container-max-width: {{ Config.ContainerMaxWidthCss }};">
    {{ if Config.ShowGrid }}
    <div class="grid-lines">
        <div class="grid-line-h" style="top: 33.333%;"></div>
        <div class="grid-line-h" style="top: 66.667%;"></div>
        <div class="grid-line-v" style="left: 33.333%;"></div>
        <div class="grid-line-v" style="left: 66.667%;"></div>
    </div>
    {{ end }}
    
    {{ for quadrant in ViewModel.Quadrants }}
    <div class="grid-quadrant hover-effect" 
         style="background: {{ quadrant.Color }}; left: {{ quadrant.LeftPercent }}%; top: {{ quadrant.TopPercent }}%;">
        {{ if Config.ShowQuadrantLabels }}
        <div>
            <div>{{ quadrant.Name }}</div>
            <small>{{ quadrant.Description }}</small>
        </div>
        {{ end }}
    </div>
    {{ end }}
    
    {{ for task in ViewModel.Tasks }}
    <div class="task-point hover-effect" 
         style="background: {{ task.QuadrantColor }}; left: {{ task.LeftPercent }}%; top: {{ task.TopPercent }}%;"
         title="{{ task.Name }} ({{ task.Category }})">
        <div class="task-tooltip">
            <strong>{{ task.Ref }}</strong><br>
            {{ task.Name }}<br>
            <small>Category: {{ task.Category }}</small><br>
            <small>Impact: {{ task.Impact }}, Effort: {{ task.Effort }}</small>
        </div>
    </div>
    {{ end }}
    
    <!-- Axis Labels -->
    <div class="axis-label" style="left: 16.667%; top: 100%; margin-top: 5px;">Low</div>
    <div class="axis-label" style="left: 50%; top: 100%; margin-top: 5px;">Medium</div>
    <div class="axis-label" style="left: 83.333%; top: 100%; margin-top: 5px;">High</div>
    
    <div class="axis-label" style="left: -40px; top: 16.667%;">Low</div>
    <div class="axis-label" style="left: -40px; top: 50%;">Medium</div>
    <div class="axis-label" style="left: -40px; top: 83.333%;">High</div>
</div>
